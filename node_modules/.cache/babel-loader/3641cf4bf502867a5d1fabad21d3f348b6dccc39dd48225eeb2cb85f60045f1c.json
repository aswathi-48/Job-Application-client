{"ast":null,"code":"import _objectSpread from\"C:/Users/aswathi/Downloads/job-tracker/job-tracker/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import API from\"../api\";// axios instance with token header\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProfileDialog(_ref){let{onClose}=_ref;const[user,setUser]=useState({name:\"\",email:\"\",phone:\"\",skills:\"\"});const[editMode,setEditMode]=useState(false);useEffect(()=>{API.get(\"/auth/profile\").then(res=>{setUser(_objectSpread(_objectSpread({},res.data),{},{skills:res.data.skills?res.data.skills.join(\", \"):\"\"}));}).catch(err=>console.error(err));},[]);const handleChange=e=>setUser(_objectSpread(_objectSpread({},user),{},{[e.target.name]:e.target.value}));const handleUpdate=async()=>{try{const res=await API.patch(\"/auth/update\",user);localStorage.setItem(\"user\",JSON.stringify(res.data.user));alert(\"Profile updated successfully!\");setEditMode(false);}catch(err){alert(\"Error updating profile\");}};return/*#__PURE__*/_jsx(\"div\",{style:modal.overlay,children:/*#__PURE__*/_jsxs(\"div\",{style:modal.box,children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:modal.closeBtn,children:\"\\u2716\"}),/*#__PURE__*/_jsx(\"h2\",{style:modal.title,children:\"My Profile\"}),/*#__PURE__*/_jsxs(\"div\",{style:modal.form,children:[/*#__PURE__*/_jsx(\"label\",{style:modal.label,children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:user.name,onChange:handleChange,disabled:!editMode,style:editMode?modal.input:modal.readonly}),/*#__PURE__*/_jsx(\"label\",{style:modal.label,children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:user.email,disabled:true,style:modal.readonly}),/*#__PURE__*/_jsx(\"label\",{style:modal.label,children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",value:user.phone||\"\",onChange:handleChange,disabled:!editMode,style:editMode?modal.input:modal.readonly}),/*#__PURE__*/_jsx(\"label\",{style:modal.label,children:\"Skills\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"skills\",value:user.skills||\"\",onChange:handleChange,disabled:!editMode,style:editMode?modal.input:modal.readonly})]}),/*#__PURE__*/_jsxs(\"div\",{style:modal.buttonRow,children:[!editMode?/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditMode(true),style:modal.editBtn,children:\"Edit\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdate,style:modal.updateBtn,children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:modal.closeButton,children:\"Close\"})]})]})});}const modal={overlay:{position:\"fixed\",inset:0,background:\"rgba(0,0,0,0.5)\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",zIndex:2000},box:{background:\"#fff\",borderRadius:\"12px\",padding:\"24px\",width:\"400px\",position:\"relative\",boxShadow:\"0 6px 20px rgba(0,0,0,0.2)\"},closeBtn:{position:\"absolute\",top:\"10px\",right:\"12px\",border:\"none\",background:\"none\",fontSize:\"18px\",cursor:\"pointer\"},title:{textAlign:\"center\",color:\"#6b3fa0\",marginBottom:\"16px\"},form:{display:\"flex\",flexDirection:\"column\",gap:\"10px\"},label:{fontSize:\"14px\",fontWeight:\"500\",color:\"#444\"},input:{padding:\"8px\",border:\"1px solid #aaa\",borderRadius:\"6px\",fontSize:\"14px\"},readonly:{padding:\"8px\",border:\"1px solid #ccc\",borderRadius:\"6px\",background:\"#f5f5f5\",fontSize:\"14px\"},buttonRow:{marginTop:\"18px\",display:\"flex\",justifyContent:\"space-between\"},editBtn:{background:\"#6b3fa0\",color:\"#fff\",padding:\"8px 16px\",border:\"none\",borderRadius:\"6px\",cursor:\"pointer\"},updateBtn:{background:\"#28a745\",color:\"#fff\",padding:\"8px 16px\",border:\"none\",borderRadius:\"6px\",cursor:\"pointer\"},closeButton:{background:\"#ccc\",color:\"#333\",padding:\"8px 16px\",border:\"none\",borderRadius:\"6px\",cursor:\"pointer\"}};","map":{"version":3,"names":["React","useEffect","useState","API","jsx","_jsx","jsxs","_jsxs","ProfileDialog","_ref","onClose","user","setUser","name","email","phone","skills","editMode","setEditMode","get","then","res","_objectSpread","data","join","catch","err","console","error","handleChange","e","target","value","handleUpdate","patch","localStorage","setItem","JSON","stringify","alert","style","modal","overlay","children","box","onClick","closeBtn","title","form","label","type","onChange","disabled","input","readonly","buttonRow","editBtn","updateBtn","closeButton","position","inset","background","display","justifyContent","alignItems","zIndex","borderRadius","padding","width","boxShadow","top","right","border","fontSize","cursor","textAlign","color","marginBottom","flexDirection","gap","fontWeight","marginTop"],"sources":["C:/Users/aswathi/Downloads/job-tracker/job-tracker/client/src/pages/ProfileDialog.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport API from \"../api\"; // axios instance with token header\r\n\r\nexport default function ProfileDialog({ onClose }) {\r\n  const [user, setUser] = useState({ name: \"\", email: \"\", phone: \"\", skills: \"\" });\r\n  const [editMode, setEditMode] = useState(false);\r\n\r\n  useEffect(() => {\r\n    API.get(\"/auth/profile\")\r\n      .then((res) => {\r\n        setUser({\r\n          ...res.data,\r\n          skills: res.data.skills ? res.data.skills.join(\", \") : \"\",\r\n        });\r\n      })\r\n      .catch((err) => console.error(err));\r\n  }, []);\r\n\r\n  const handleChange = (e) => setUser({ ...user, [e.target.name]: e.target.value });\r\n\r\n  const handleUpdate = async () => {\r\n    try {\r\n      const res = await API.patch(\"/auth/update\", user);\r\n      localStorage.setItem(\"user\", JSON.stringify(res.data.user));\r\n      alert(\"Profile updated successfully!\");\r\n      setEditMode(false);\r\n    } catch (err) {\r\n      alert(\"Error updating profile\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={modal.overlay}>\r\n      <div style={modal.box}>\r\n        <button onClick={onClose} style={modal.closeBtn}>âœ–</button>\r\n        <h2 style={modal.title}>My Profile</h2>\r\n\r\n        <div style={modal.form}>\r\n          <label style={modal.label}>Name</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={user.name}\r\n            onChange={handleChange}\r\n            disabled={!editMode}\r\n            style={editMode ? modal.input : modal.readonly}\r\n          />\r\n\r\n          <label style={modal.label}>Email</label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={user.email}\r\n            disabled\r\n            style={modal.readonly}\r\n          />\r\n\r\n          <label style={modal.label}>Phone</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"phone\"\r\n            value={user.phone || \"\"}\r\n            onChange={handleChange}\r\n            disabled={!editMode}\r\n            style={editMode ? modal.input : modal.readonly}\r\n          />\r\n\r\n          <label style={modal.label}>Skills</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"skills\"\r\n            value={user.skills || \"\"}\r\n            onChange={handleChange}\r\n            disabled={!editMode}\r\n            style={editMode ? modal.input : modal.readonly}\r\n          />\r\n        </div>\r\n\r\n        <div style={modal.buttonRow}>\r\n          {!editMode ? (\r\n            <button onClick={() => setEditMode(true)} style={modal.editBtn}>\r\n              Edit\r\n            </button>\r\n          ) : (\r\n            <button onClick={handleUpdate} style={modal.updateBtn}>\r\n              Update\r\n            </button>\r\n          )}\r\n          <button onClick={onClose} style={modal.closeButton}>\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst modal = {\r\n  overlay: {\r\n    position: \"fixed\",\r\n    inset: 0,\r\n    background: \"rgba(0,0,0,0.5)\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    zIndex: 2000,\r\n  },\r\n  box: {\r\n    background: \"#fff\",\r\n    borderRadius: \"12px\",\r\n    padding: \"24px\",\r\n    width: \"400px\",\r\n    position: \"relative\",\r\n    boxShadow: \"0 6px 20px rgba(0,0,0,0.2)\",\r\n  },\r\n  closeBtn: {\r\n    position: \"absolute\",\r\n    top: \"10px\",\r\n    right: \"12px\",\r\n    border: \"none\",\r\n    background: \"none\",\r\n    fontSize: \"18px\",\r\n    cursor: \"pointer\",\r\n  },\r\n  title: { textAlign: \"center\", color: \"#6b3fa0\", marginBottom: \"16px\" },\r\n  form: { display: \"flex\", flexDirection: \"column\", gap: \"10px\" },\r\n  label: { fontSize: \"14px\", fontWeight: \"500\", color: \"#444\" },\r\n  input: {\r\n    padding: \"8px\",\r\n    border: \"1px solid #aaa\",\r\n    borderRadius: \"6px\",\r\n    fontSize: \"14px\",\r\n  },\r\n  readonly: {\r\n    padding: \"8px\",\r\n    border: \"1px solid #ccc\",\r\n    borderRadius: \"6px\",\r\n    background: \"#f5f5f5\",\r\n    fontSize: \"14px\",\r\n  },\r\n  buttonRow: {\r\n    marginTop: \"18px\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  editBtn: {\r\n    background: \"#6b3fa0\",\r\n    color: \"#fff\",\r\n    padding: \"8px 16px\",\r\n    border: \"none\",\r\n    borderRadius: \"6px\",\r\n    cursor: \"pointer\",\r\n  },\r\n  updateBtn: {\r\n    background: \"#28a745\",\r\n    color: \"#fff\",\r\n    padding: \"8px 16px\",\r\n    border: \"none\",\r\n    borderRadius: \"6px\",\r\n    cursor: \"pointer\",\r\n  },\r\n  closeButton: {\r\n    background: \"#ccc\",\r\n    color: \"#333\",\r\n    padding: \"8px 16px\",\r\n    border: \"none\",\r\n    borderRadius: \"6px\",\r\n    cursor: \"pointer\",\r\n  },\r\n};\r\n"],"mappings":"8IAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,QAAQ,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAc,IAAb,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CAC/C,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,CAAEW,IAAI,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAE,CAAEC,MAAM,CAAE,EAAG,CAAC,CAAC,CAChF,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAE/CD,SAAS,CAAC,IAAM,CACdE,GAAG,CAACgB,GAAG,CAAC,eAAe,CAAC,CACrBC,IAAI,CAAEC,GAAG,EAAK,CACbT,OAAO,CAAAU,aAAA,CAAAA,aAAA,IACFD,GAAG,CAACE,IAAI,MACXP,MAAM,CAAEK,GAAG,CAACE,IAAI,CAACP,MAAM,CAAGK,GAAG,CAACE,IAAI,CAACP,MAAM,CAACQ,IAAI,CAAC,IAAI,CAAC,CAAG,EAAE,EAC1D,CAAC,CACJ,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,EAAKC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC,CACvC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,YAAY,CAAIC,CAAC,EAAKlB,OAAO,CAAAU,aAAA,CAAAA,aAAA,IAAMX,IAAI,MAAE,CAACmB,CAAC,CAACC,MAAM,CAAClB,IAAI,EAAGiB,CAAC,CAACC,MAAM,CAACC,KAAK,EAAE,CAAC,CAEjF,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAZ,GAAG,CAAG,KAAM,CAAAlB,GAAG,CAAC+B,KAAK,CAAC,cAAc,CAAEvB,IAAI,CAAC,CACjDwB,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAACjB,GAAG,CAACE,IAAI,CAACZ,IAAI,CAAC,CAAC,CAC3D4B,KAAK,CAAC,+BAA+B,CAAC,CACtCrB,WAAW,CAAC,KAAK,CAAC,CACpB,CAAE,MAAOQ,GAAG,CAAE,CACZa,KAAK,CAAC,wBAAwB,CAAC,CACjC,CACF,CAAC,CAED,mBACElC,IAAA,QAAKmC,KAAK,CAAEC,KAAK,CAACC,OAAQ,CAAAC,QAAA,cACxBpC,KAAA,QAAKiC,KAAK,CAAEC,KAAK,CAACG,GAAI,CAAAD,QAAA,eACpBtC,IAAA,WAAQwC,OAAO,CAAEnC,OAAQ,CAAC8B,KAAK,CAAEC,KAAK,CAACK,QAAS,CAAAH,QAAA,CAAC,QAAC,CAAQ,CAAC,cAC3DtC,IAAA,OAAImC,KAAK,CAAEC,KAAK,CAACM,KAAM,CAAAJ,QAAA,CAAC,YAAU,CAAI,CAAC,cAEvCpC,KAAA,QAAKiC,KAAK,CAAEC,KAAK,CAACO,IAAK,CAAAL,QAAA,eACrBtC,IAAA,UAAOmC,KAAK,CAAEC,KAAK,CAACQ,KAAM,CAAAN,QAAA,CAAC,MAAI,CAAO,CAAC,cACvCtC,IAAA,UACE6C,IAAI,CAAC,MAAM,CACXrC,IAAI,CAAC,MAAM,CACXmB,KAAK,CAAErB,IAAI,CAACE,IAAK,CACjBsC,QAAQ,CAAEtB,YAAa,CACvBuB,QAAQ,CAAE,CAACnC,QAAS,CACpBuB,KAAK,CAAEvB,QAAQ,CAAGwB,KAAK,CAACY,KAAK,CAAGZ,KAAK,CAACa,QAAS,CAChD,CAAC,cAEFjD,IAAA,UAAOmC,KAAK,CAAEC,KAAK,CAACQ,KAAM,CAAAN,QAAA,CAAC,OAAK,CAAO,CAAC,cACxCtC,IAAA,UACE6C,IAAI,CAAC,OAAO,CACZrC,IAAI,CAAC,OAAO,CACZmB,KAAK,CAAErB,IAAI,CAACG,KAAM,CAClBsC,QAAQ,MACRZ,KAAK,CAAEC,KAAK,CAACa,QAAS,CACvB,CAAC,cAEFjD,IAAA,UAAOmC,KAAK,CAAEC,KAAK,CAACQ,KAAM,CAAAN,QAAA,CAAC,OAAK,CAAO,CAAC,cACxCtC,IAAA,UACE6C,IAAI,CAAC,MAAM,CACXrC,IAAI,CAAC,OAAO,CACZmB,KAAK,CAAErB,IAAI,CAACI,KAAK,EAAI,EAAG,CACxBoC,QAAQ,CAAEtB,YAAa,CACvBuB,QAAQ,CAAE,CAACnC,QAAS,CACpBuB,KAAK,CAAEvB,QAAQ,CAAGwB,KAAK,CAACY,KAAK,CAAGZ,KAAK,CAACa,QAAS,CAChD,CAAC,cAEFjD,IAAA,UAAOmC,KAAK,CAAEC,KAAK,CAACQ,KAAM,CAAAN,QAAA,CAAC,QAAM,CAAO,CAAC,cACzCtC,IAAA,UACE6C,IAAI,CAAC,MAAM,CACXrC,IAAI,CAAC,QAAQ,CACbmB,KAAK,CAAErB,IAAI,CAACK,MAAM,EAAI,EAAG,CACzBmC,QAAQ,CAAEtB,YAAa,CACvBuB,QAAQ,CAAE,CAACnC,QAAS,CACpBuB,KAAK,CAAEvB,QAAQ,CAAGwB,KAAK,CAACY,KAAK,CAAGZ,KAAK,CAACa,QAAS,CAChD,CAAC,EACC,CAAC,cAEN/C,KAAA,QAAKiC,KAAK,CAAEC,KAAK,CAACc,SAAU,CAAAZ,QAAA,EACzB,CAAC1B,QAAQ,cACRZ,IAAA,WAAQwC,OAAO,CAAEA,CAAA,GAAM3B,WAAW,CAAC,IAAI,CAAE,CAACsB,KAAK,CAAEC,KAAK,CAACe,OAAQ,CAAAb,QAAA,CAAC,MAEhE,CAAQ,CAAC,cAETtC,IAAA,WAAQwC,OAAO,CAAEZ,YAAa,CAACO,KAAK,CAAEC,KAAK,CAACgB,SAAU,CAAAd,QAAA,CAAC,QAEvD,CAAQ,CACT,cACDtC,IAAA,WAAQwC,OAAO,CAAEnC,OAAQ,CAAC8B,KAAK,CAAEC,KAAK,CAACiB,WAAY,CAAAf,QAAA,CAAC,OAEpD,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAEA,KAAM,CAAAF,KAAK,CAAG,CACZC,OAAO,CAAE,CACPiB,QAAQ,CAAE,OAAO,CACjBC,KAAK,CAAE,CAAC,CACRC,UAAU,CAAE,iBAAiB,CAC7BC,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,QAAQ,CACxBC,UAAU,CAAE,QAAQ,CACpBC,MAAM,CAAE,IACV,CAAC,CACDrB,GAAG,CAAE,CACHiB,UAAU,CAAE,MAAM,CAClBK,YAAY,CAAE,MAAM,CACpBC,OAAO,CAAE,MAAM,CACfC,KAAK,CAAE,OAAO,CACdT,QAAQ,CAAE,UAAU,CACpBU,SAAS,CAAE,4BACb,CAAC,CACDvB,QAAQ,CAAE,CACRa,QAAQ,CAAE,UAAU,CACpBW,GAAG,CAAE,MAAM,CACXC,KAAK,CAAE,MAAM,CACbC,MAAM,CAAE,MAAM,CACdX,UAAU,CAAE,MAAM,CAClBY,QAAQ,CAAE,MAAM,CAChBC,MAAM,CAAE,SACV,CAAC,CACD3B,KAAK,CAAE,CAAE4B,SAAS,CAAE,QAAQ,CAAEC,KAAK,CAAE,SAAS,CAAEC,YAAY,CAAE,MAAO,CAAC,CACtE7B,IAAI,CAAE,CAAEc,OAAO,CAAE,MAAM,CAAEgB,aAAa,CAAE,QAAQ,CAAEC,GAAG,CAAE,MAAO,CAAC,CAC/D9B,KAAK,CAAE,CAAEwB,QAAQ,CAAE,MAAM,CAAEO,UAAU,CAAE,KAAK,CAAEJ,KAAK,CAAE,MAAO,CAAC,CAC7DvB,KAAK,CAAE,CACLc,OAAO,CAAE,KAAK,CACdK,MAAM,CAAE,gBAAgB,CACxBN,YAAY,CAAE,KAAK,CACnBO,QAAQ,CAAE,MACZ,CAAC,CACDnB,QAAQ,CAAE,CACRa,OAAO,CAAE,KAAK,CACdK,MAAM,CAAE,gBAAgB,CACxBN,YAAY,CAAE,KAAK,CACnBL,UAAU,CAAE,SAAS,CACrBY,QAAQ,CAAE,MACZ,CAAC,CACDlB,SAAS,CAAE,CACT0B,SAAS,CAAE,MAAM,CACjBnB,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,eAClB,CAAC,CACDP,OAAO,CAAE,CACPK,UAAU,CAAE,SAAS,CACrBe,KAAK,CAAE,MAAM,CACbT,OAAO,CAAE,UAAU,CACnBK,MAAM,CAAE,MAAM,CACdN,YAAY,CAAE,KAAK,CACnBQ,MAAM,CAAE,SACV,CAAC,CACDjB,SAAS,CAAE,CACTI,UAAU,CAAE,SAAS,CACrBe,KAAK,CAAE,MAAM,CACbT,OAAO,CAAE,UAAU,CACnBK,MAAM,CAAE,MAAM,CACdN,YAAY,CAAE,KAAK,CACnBQ,MAAM,CAAE,SACV,CAAC,CACDhB,WAAW,CAAE,CACXG,UAAU,CAAE,MAAM,CAClBe,KAAK,CAAE,MAAM,CACbT,OAAO,CAAE,UAAU,CACnBK,MAAM,CAAE,MAAM,CACdN,YAAY,CAAE,KAAK,CACnBQ,MAAM,CAAE,SACV,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}