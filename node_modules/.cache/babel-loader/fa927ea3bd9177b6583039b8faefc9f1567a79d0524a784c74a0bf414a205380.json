{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import API from \"../api\";\n\n// export default function UserList() {\n//   const [users, setUsers] = useState([]);\n//   console.log(users, \"userss\");\n\n//   useEffect(() => {\n//     API.get(\"/auth/users\")\n//       .then((res) => setUsers(res.data))\n//       .catch((err) => console.error(err));\n//   }, []);\n\n//   const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:7000\";\n\n//   return (\n//     <div>\n//       <h2 style={{ color: \"#6b3fa0\" }}>User List</h2>\n//       <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n//         <thead style={{ background: \"#ede4ff\" }}>\n//           <tr>\n//             <th>Image</th>\n//             <th style={{ padding: \"10px\" }}>Name</th>\n//             <th>Email</th>\n//             <th>Phone</th>\n//             <th>Role</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {users.map((u) => (\n//             <tr key={u._id} style={{ borderBottom: \"1px solid #ddd\" }}>\n//               <img\n//                 src={\n//                   u.image\n//                     ? `${API_URL}${u.image}`\n//                     : `${API_URL}/uploads/default.png`\n//                 }\n//                 width={120} height={120}\n//                 style={{ borderRadius: \"20px\" }}\n//               />\n//               <td style={{ padding: \"10px\" }}>{u.name}</td>\n//               <td>{u.email}</td>\n//               <td>{u.phone}</td>\n//               <td>{u.role}</td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n// }\n\n// import React, { useEffect, useState } from \"react\";\n// import API from \"../api\";\n\n// export default function UserList() {\n//   const [users, setUsers] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:7000\";\n\n//   const loggedUser = JSON.parse(localStorage.getItem(\"user\")); // assume {id, role}\n\n//   useEffect(() => {\n//     fetchUsers();\n//   }, []);\n\n//   const fetchUsers = async () => {\n//     try {\n//       const res = await API.get(\"/auth/users\");\n//       setUsers(res.data);\n//       setLoading(false);\n//     } catch (err) {\n//       console.error(err);\n//     }\n//   };\n\n// const handleDelete = async (id) => {\n//   const confirm = window.confirm(\"Are you sure you want to delete this user?\");\n//   if (!confirm) return;\n\n//   try {\n//     const token = localStorage.getItem(\"token\"); // Make sure token is stored on login\n//     await API.delete(`/auth/users/${id}`, {\n//       headers: {\n//         Authorization: `Bearer ${token}`,\n//       },\n//     });\n//     alert(\"User deleted successfully\");\n//     fetchUsers(); // refresh the list\n//   } catch (err) {\n//     console.error(err);\n//     alert(err.response?.data?.message || \"Failed to delete user\");\n//   }\n// };\n\n//   if (loading) return <p>Loading...</p>;\n\n//   return (\n//     <div>\n//       <h2 style={{ color: \"#6b3fa0\" }}>User List</h2>\n//       <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n//         <thead style={{ background: \"#ede4ff\" }}>\n//           <tr>\n//             <th>Image</th>\n//             <th style={{ padding: \"10px\" }}>Name</th>\n//             <th>Email</th>\n//             <th>Phone</th>\n//             <th>Role</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {users.map((u) => (\n//             <tr key={u._id} style={{ borderBottom: \"1px solid #ddd\" }}>\n//               <td>\n//                 <img\n//                   src={u.image ? `${API_URL}${u.image}` : `${API_URL}/uploads/default.png`}\n//                   width={100}\n//                   height={100}\n//                   style={{ borderRadius: \"50%\" }}\n//                 />\n//               </td>\n//               <td style={{ padding: \"10px\" }}>{u.name}</td>\n//               <td>{u.email}</td>\n//               <td>{u.phone}</td>\n//               <td>{u.role}</td>\n//               <td>\n//                 {loggedUser.id === u._id && (\n//                   <button\n//                     onClick={() => window.location.href = `/profile/edit/${u._id}`}\n//                     style={{ marginRight: \"5px\" }}\n//                   >\n//                     Edit\n//                   </button>\n//                 )}\n//                 {loggedUser.role === \"admin\" && (\n//                   <button onClick={() => handleDelete(u._id)} style={{ color: \"red\" }}>\n//                     Delete\n//                   </button>\n//                 )}\n//               </td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n// }","map":{"version":3,"names":[],"sources":["C:/Users/aswathi/Downloads/job-tracker/job-tracker/client/src/components/UserList.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\r\n// import API from \"../api\";\r\n\r\n// export default function UserList() {\r\n//   const [users, setUsers] = useState([]);\r\n//   console.log(users, \"userss\");\r\n\r\n//   useEffect(() => {\r\n//     API.get(\"/auth/users\")\r\n//       .then((res) => setUsers(res.data))\r\n//       .catch((err) => console.error(err));\r\n//   }, []);\r\n\r\n//   const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:7000\";\r\n\r\n//   return (\r\n//     <div>\r\n//       <h2 style={{ color: \"#6b3fa0\" }}>User List</h2>\r\n//       <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n//         <thead style={{ background: \"#ede4ff\" }}>\r\n//           <tr>\r\n//             <th>Image</th>\r\n//             <th style={{ padding: \"10px\" }}>Name</th>\r\n//             <th>Email</th>\r\n//             <th>Phone</th>\r\n//             <th>Role</th>\r\n//           </tr>\r\n//         </thead>\r\n//         <tbody>\r\n//           {users.map((u) => (\r\n//             <tr key={u._id} style={{ borderBottom: \"1px solid #ddd\" }}>\r\n//               <img\r\n//                 src={\r\n//                   u.image\r\n//                     ? `${API_URL}${u.image}`\r\n//                     : `${API_URL}/uploads/default.png`\r\n//                 }\r\n//                 width={120} height={120}\r\n//                 style={{ borderRadius: \"20px\" }}\r\n//               />\r\n//               <td style={{ padding: \"10px\" }}>{u.name}</td>\r\n//               <td>{u.email}</td>\r\n//               <td>{u.phone}</td>\r\n//               <td>{u.role}</td>\r\n//             </tr>\r\n//           ))}\r\n//         </tbody>\r\n//       </table>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n\r\n// import React, { useEffect, useState } from \"react\";\r\n// import API from \"../api\";\r\n\r\n// export default function UserList() {\r\n//   const [users, setUsers] = useState([]);\r\n//   const [loading, setLoading] = useState(true);\r\n//   const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:7000\";\r\n\r\n//   const loggedUser = JSON.parse(localStorage.getItem(\"user\")); // assume {id, role}\r\n\r\n//   useEffect(() => {\r\n//     fetchUsers();\r\n//   }, []);\r\n\r\n//   const fetchUsers = async () => {\r\n//     try {\r\n//       const res = await API.get(\"/auth/users\");\r\n//       setUsers(res.data);\r\n//       setLoading(false);\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//     }\r\n//   };\r\n\r\n// const handleDelete = async (id) => {\r\n//   const confirm = window.confirm(\"Are you sure you want to delete this user?\");\r\n//   if (!confirm) return;\r\n\r\n//   try {\r\n//     const token = localStorage.getItem(\"token\"); // Make sure token is stored on login\r\n//     await API.delete(`/auth/users/${id}`, {\r\n//       headers: {\r\n//         Authorization: `Bearer ${token}`,\r\n//       },\r\n//     });\r\n//     alert(\"User deleted successfully\");\r\n//     fetchUsers(); // refresh the list\r\n//   } catch (err) {\r\n//     console.error(err);\r\n//     alert(err.response?.data?.message || \"Failed to delete user\");\r\n//   }\r\n// };\r\n\r\n\r\n//   if (loading) return <p>Loading...</p>;\r\n\r\n//   return (\r\n//     <div>\r\n//       <h2 style={{ color: \"#6b3fa0\" }}>User List</h2>\r\n//       <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n//         <thead style={{ background: \"#ede4ff\" }}>\r\n//           <tr>\r\n//             <th>Image</th>\r\n//             <th style={{ padding: \"10px\" }}>Name</th>\r\n//             <th>Email</th>\r\n//             <th>Phone</th>\r\n//             <th>Role</th>\r\n//             <th>Actions</th>\r\n//           </tr>\r\n//         </thead>\r\n//         <tbody>\r\n//           {users.map((u) => (\r\n//             <tr key={u._id} style={{ borderBottom: \"1px solid #ddd\" }}>\r\n//               <td>\r\n//                 <img\r\n//                   src={u.image ? `${API_URL}${u.image}` : `${API_URL}/uploads/default.png`}\r\n//                   width={100}\r\n//                   height={100}\r\n//                   style={{ borderRadius: \"50%\" }}\r\n//                 />\r\n//               </td>\r\n//               <td style={{ padding: \"10px\" }}>{u.name}</td>\r\n//               <td>{u.email}</td>\r\n//               <td>{u.phone}</td>\r\n//               <td>{u.role}</td>\r\n//               <td>\r\n//                 {loggedUser.id === u._id && (\r\n//                   <button\r\n//                     onClick={() => window.location.href = `/profile/edit/${u._id}`}\r\n//                     style={{ marginRight: \"5px\" }}\r\n//                   >\r\n//                     Edit\r\n//                   </button>\r\n//                 )}\r\n//                 {loggedUser.role === \"admin\" && (\r\n//                   <button onClick={() => handleDelete(u._id)} style={{ color: \"red\" }}>\r\n//                     Delete\r\n//                   </button>\r\n//                 )}\r\n//               </td>\r\n//             </tr>\r\n//           ))}\r\n//         </tbody>\r\n//       </table>\r\n//     </div>\r\n//   );\r\n// }\r\n"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}